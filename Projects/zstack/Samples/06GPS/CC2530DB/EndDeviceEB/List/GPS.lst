###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         25/Jul/2015  11:21:18 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06 #
#                          GPS\Source\GPS.c                                   #
#    Command line       =  -f C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples #
#                          \06GPS\CC2530DB\..\..\..\Tools\CC2530DB\f8wEndev.c #
#                          fg (-DCPU32MHZ -DROOT=__near_func                  #
#                          -DMAC_CFG_TX_DATA_MAX=3 -DMAC_CFG_TX_MAX=6         #
#                          -DMAC_CFG_RX_MAX=3) -f C:\ZStack-CC2530-2.5.1a\Pro #
#                          jects\zstack\Samples\06GPS\CC2530DB\..\..\..\Tools #
#                          \CC2530DB\f8wConfig.cfg (-DZIGBEEPRO -DSECURE=0    #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x00100000                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFFF                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 C:\ZStack-CC2530-2.5.1a\Pro #
#                          jects\zstack\Samples\06GPS\Source\GPS.c -D         #
#                          NWK_AUTO_POLL -D ZTOOL_P1 -D MT_TASK -D            #
#                          MT_SYS_FUNC -D MT_ZDO_FUNC -D LCD_SUPPORTED=DEBUG  #
#                          -D xPOWER_SAVING -lC C:\ZStack-CC2530-2.5.1a\Proje #
#                          cts\zstack\Samples\06GPS\CC2530DB\EndDeviceEB\List #
#                          \ -lA C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samp #
#                          les\06GPS\CC2530DB\EndDeviceEB\List\               #
#                          --diag_suppress Pe001,Pa010 -o                     #
#                          C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06 #
#                          GPS\CC2530DB\EndDeviceEB\Obj\ -e --no_code_motion  #
#                          --debug --core=plain --dptr=16,1                   #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples #
#                          \06GPS\CC2530DB\ -I C:\ZStack-CC2530-2.5.1a\Projec #
#                          ts\zstack\Samples\06GPS\CC2530DB\..\Source\ -I     #
#                          C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06 #
#                          GPS\CC2530DB\..\..\..\ZMain\TI2530DB\ -I           #
#                          C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06 #
#                          GPS\CC2530DB\..\..\..\..\..\Components\hal\include #
#                          \ -I C:\ZStack-CC2530-2.5.1a\Projects\zstack\Sampl #
#                          es\06GPS\CC2530DB\..\..\..\..\..\Components\hal\ta #
#                          rget\CC2530EB\ -I C:\ZStack-CC2530-2.5.1a\Projects #
#                          \zstack\Samples\06GPS\CC2530DB\..\..\..\..\..\Comp #
#                          onents\mac\include\ -I C:\ZStack-CC2530-2.5.1a\Pro #
#                          jects\zstack\Samples\06GPS\CC2530DB\..\..\..\..\.. #
#                          \Components\mac\high_level\ -I                     #
#                          C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06 #
#                          GPS\CC2530DB\..\..\..\..\..\Components\mac\low_lev #
#                          el\srf04\ -I C:\ZStack-CC2530-2.5.1a\Projects\zsta #
#                          ck\Samples\06GPS\CC2530DB\..\..\..\..\..\Component #
#                          s\mac\low_level\srf04\single_chip\ -I              #
#                          C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06 #
#                          GPS\CC2530DB\..\..\..\..\..\Components\mt\ -I      #
#                          C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06 #
#                          GPS\CC2530DB\..\..\..\..\..\Components\osal\includ #
#                          e\ -I C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samp #
#                          les\06GPS\CC2530DB\..\..\..\..\..\Components\servi #
#                          ces\saddr\ -I C:\ZStack-CC2530-2.5.1a\Projects\zst #
#                          ack\Samples\06GPS\CC2530DB\..\..\..\..\..\Componen #
#                          ts\services\sdata\ -I C:\ZStack-CC2530-2.5.1a\Proj #
#                          ects\zstack\Samples\06GPS\CC2530DB\..\..\..\..\..\ #
#                          Components\stack\af\ -I C:\ZStack-CC2530-2.5.1a\Pr #
#                          ojects\zstack\Samples\06GPS\CC2530DB\..\..\..\..\. #
#                          .\Components\stack\nwk\ -I                         #
#                          C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06 #
#                          GPS\CC2530DB\..\..\..\..\..\Components\stack\sapi\ #
#                           -I C:\ZStack-CC2530-2.5.1a\Projects\zstack\Sample #
#                          s\06GPS\CC2530DB\..\..\..\..\..\Components\stack\s #
#                          ec\ -I C:\ZStack-CC2530-2.5.1a\Projects\zstack\Sam #
#                          ples\06GPS\CC2530DB\..\..\..\..\..\Components\stac #
#                          k\sys\ -I C:\ZStack-CC2530-2.5.1a\Projects\zstack\ #
#                          Samples\06GPS\CC2530DB\..\..\..\..\..\Components\s #
#                          tack\zdo\ -I C:\ZStack-CC2530-2.5.1a\Projects\zsta #
#                          ck\Samples\06GPS\CC2530DB\..\..\..\..\..\Component #
#                          s\zmac\ -I C:\ZStack-CC2530-2.5.1a\Projects\zstack #
#                          \Samples\06GPS\CC2530DB\..\..\..\..\..\Components\ #
#                          zmac\f8w\ -Ohz                                     #
#    List file          =  C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06 #
#                          GPS\CC2530DB\EndDeviceEB\List\GPS.lst              #
#    Object file        =  C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06 #
#                          GPS\CC2530DB\EndDeviceEB\Obj\GPS.r51               #
#                                                                             #
#                                                                             #
###############################################################################

C:\ZStack-CC2530-2.5.1a\Projects\zstack\Samples\06GPS\Source\GPS.c
      1          /******************************************************************************
      2            Filename:       Gps.c
      3            Revised:        $Date: 2012-03-07 01:04:58 -0800 (Wed, 07 Mar 2012) $
      4            Revision:       $Revision: 29656 $
      5          
      6            Description:    Generic Application (no Profile).
      7          
      8          
      9            Copyright 2004-2012 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License"). You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product. Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED “AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          ******************************************************************************/
     39          
     40          /*********************************************************************
     41            This application isn't intended to do anything useful, it is
     42            intended to be a simple example of an application's structure.
     43          
     44            This application sends "Hello World" to another "Generic"
     45            application every 5 seconds.  The application will also
     46            receives "Hello World" packets.
     47          
     48            The "Hello World" messages are sent/received as MSG type message.
     49          
     50            This applications doesn't have a profile, so it handles everything
     51            directly - itself.
     52          
     53            Key control:
     54              SW1:
     55              SW2:  initiates end device binding
     56              SW3:
     57              SW4:  initiates a match description request
     58          *********************************************************************/
     59          
     60          /*********************************************************************
     61           * INCLUDES
     62           */
     63          #include "OSAL.h"
     64          #include "AF.h"
     65          #include "ZDApp.h"
     66          #include "ZDObject.h"
     67          #include "ZDProfile.h"
     68          
     69          #include "Gps.h"
     70          #include "DebugTrace.h"
     71          
     72          #if !defined( WIN32 )
     73            #include "OnBoard.h"

   \                                 In  segment SFR_AN, at 0x90
   \   union <unnamed> volatile __sfr _A_P1
   \                     _A_P1:
   \   000000                DS 1
     74          #endif
     75          #include "MT.h"
     76          #include "mt_uart.h"
     77          /* HAL */
     78          #include "hal_lcd.h"
     79          #include "hal_led.h"
     80          #include "hal_key.h"
     81          #include "hal_uart.h"
     82          
     83          /* RTOS */
     84          #if defined( IAR_ARMCM3_LM )
     85          #include "RTOS_App.h"
     86          #endif  
     87          #include<ioCC2530.h>
     88          #include <string.h>
     89          #define uint unsigned int
     90          #define uchar unsigned char
     91          /*********************************************************************
     92           * MACROS
     93           */
     94          /*********************************************************************
     95           * DATA
     96           */

   \                                 In  segment XDATA_I, align 1, keep-with-next
     97          uchar Recdata[300]="TESTDATAS$GPGGA,033410.000,2232.1745,N,11401.1920,E,1,07,1.1,107.14,M,0.00,M,,*64";
   \                     Recdata:
   \   000000                DS 300
   \   00012C                REQUIRE `?<Initializer for Recdata>`
   \   00012C                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
     98          uchar Recdata_GPGGA[100]=" ";
   \                     Recdata_GPGGA:
   \   000000                DS 100
   \   000064                REQUIRE `?<Initializer for Recdata_GPGGA>`
   \   000064                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     99          uint Recdata_GPGGA_start=0;
   \                     Recdata_GPGGA_start:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
    100          uchar UTC[6]="000000";
   \                     UTC:
   \   000000                DS 6
   \   000006                REQUIRE `?<Initializer for UTC>`
   \   000006                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    101          uchar JingDu[10]="0000000000";
   \                     JingDu:
   \   000000                DS 10
   \   00000A                REQUIRE `?<Initializer for JingDu>`
   \   00000A                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    102          uchar WeiDu[9]="000000000";
   \                     WeiDu:
   \   000000                DS 9
   \   000009                REQUIRE `?<Initializer for WeiDu>`
   \   000009                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    103          uchar GaoDu[5]="00000";
   \                     GaoDu:
   \   000000                DS 5
   \   000005                REQUIRE `?<Initializer for GaoDu>`
   \   000005                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    104          uchar WeiXing[2]="00";
   \                     WeiXing:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for WeiXing>`
   \   000002                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    105          uchar JiBie[1]="y";
   \                     JiBie:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for JiBie>`
   \   000001                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_I, align 1, keep-with-next
    106          uchar RXTXflag = 1;
   \                     RXTXflag:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for RXTXflag>`
   \   000001                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    107          uchar temp;
   \                     temp:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    108          uint  datanumber = 0;
   \                     datanumber:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    109          uint  stringlen;
   \                     stringlen:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    110          uint check=0;
   \                     check:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_I, align 1, keep-with-next
    111          uint position=6;
   \                     position:
   \   000000                DS 2
   \   000002                REQUIRE `?<Initializer for position>`
   \   000002                REQUIRE __INIT_XDATA_I
    112          /*********************************************************************
    113           * CONSTANTS
    114           */
    115          
    116          /*********************************************************************
    117           * TYPEDEFS
    118           */
    119          
    120          /*********************************************************************
    121           * GLOBAL VARIABLES
    122           */
    123          // This list should be filled with Application specific Cluster IDs.
    124          #define SEND_DATA_EVENT 0x01

   \                                 In  segment XDATA_I, align 1, keep-with-next
    125          unsigned char flag='0';
   \                     flag:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for flag>`
   \   000001                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_ROM_C, align 1
    126          const cId_t Gps_ClusterList[Gps_MAX_CLUSTERS] =
   \                     Gps_ClusterList:
   \   000000   0400         DW 4
    127          {
    128            Gps_CLUSTERID
    129          };
    130          
    131          
    132          

   \                                 In  segment XDATA_ROM_C, align 1
    133          const SimpleDescriptionFormat_t Gps_SimpleDesc =
   \                     Gps_SimpleDesc:
   \   000000   0A           DB 10
   \   000001   040F         DW 3844
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   00           DB 0
   \   000007   0000         DW 0H
   \   000009   01           DB 1
   \   00000A   ....         DW Gps_ClusterList
    134          {
    135            Gps_ENDPOINT,              //  int Endpoint;
    136            Gps_PROFID,                //  uint16 AppProfId[2];
    137            Gps_DEVICEID,              //  uint16 AppDeviceId[2];
    138            Gps_DEVICE_VERSION,        //  int   AppDevVer:4;
    139            Gps_FLAGS,                 //  int   AppFlags:4;
    140            
    141            
    142            0,          //  byte  AppNumInClusters;
    143            (cId_t *)NULL,  //  byte *pAppInClusterList;
    144            Gps_MAX_CLUSTERS,          //  byte  AppNumInClusters;
    145            (cId_t *)Gps_ClusterList   //  byte *pAppInClusterList;
    146          };
    147          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    148          unsigned char TempDATA;
   \                     TempDATA:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    149          endPointDesc_t Gps_epDesc;
   \                     Gps_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    150          byte Gps_TaskID;
   \                     Gps_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    151          byte Gps_TransID;
   \                     Gps_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    152          devStates_t Gps_NwkState;
   \                     Gps_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    153          byte Gps_Uart_TaskID;
   \                     Gps_Uart_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    154          byte Gps_Uart_TransID;
   \                     Gps_Uart_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    155          void Gps_MessageMSGCB(afIncomingMSGPacket_t *MSGpkt);
    156          void Gps_SendTheMessage(void);
    157          void handle();
    158          
    159          
    160          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    161          void Gps_Init( byte task_id )
   \                     Gps_Init:
    162          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 29
   \   000005   74E3         MOV     A,#-0x1d
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
    163            halUARTCfg_t uartConfig;//´®¿Ú
    164              
    165            Gps_TaskID = task_id;
   \   00000C   90....       MOV     DPTR,#Gps_TaskID
   \   00000F   F0           MOVX    @DPTR,A
    166            Gps_NwkState=DEV_INIT;
   \   000010   90....       MOV     DPTR,#Gps_NwkState
   \   000013   7401         MOV     A,#0x1
   \   000015   F0           MOVX    @DPTR,A
    167            Gps_TransID = 0;
   \   000016   90....       MOV     DPTR,#Gps_TransID
   \   000019   E4           CLR     A
   \   00001A   F0           MOVX    @DPTR,A
    168          
    169            MT_UartInit();
   \   00001B                ; Setup parameters for call to function MT_UartInit
   \   00001B   12....       LCALL   ??MT_UartInit?relay
    170            MT_UartRegisterTaskID(task_id);
   \   00001E                ; Setup parameters for call to function MT_UartRegisterTaskID
   \   00001E   EE           MOV     A,R6
   \   00001F   F9           MOV     R1,A
   \   000020   12....       LCALL   ??MT_UartRegisterTaskID?relay
    171            
    172            Gps_epDesc.endPoint = Gps_ENDPOINT;
   \   000023   90....       MOV     DPTR,#Gps_epDesc
   \   000026   740A         MOV     A,#0xa
   \   000028   F0           MOVX    @DPTR,A
    173            Gps_epDesc.task_id = &Gps_TaskID;
   \   000029   A3           INC     DPTR
   \   00002A   74..         MOV     A,#Gps_TaskID & 0xff
   \   00002C   F0           MOVX    @DPTR,A
   \   00002D   A3           INC     DPTR
   \   00002E   74..         MOV     A,#(Gps_TaskID >> 8) & 0xff
   \   000030   F0           MOVX    @DPTR,A
    174            Gps_epDesc.simpleDesc
    175                      = (SimpleDescriptionFormat_t *)&Gps_SimpleDesc;
   \   000031   A3           INC     DPTR
   \   000032   74..         MOV     A,#Gps_SimpleDesc & 0xff
   \   000034   F0           MOVX    @DPTR,A
   \   000035   A3           INC     DPTR
   \   000036   74..         MOV     A,#(Gps_SimpleDesc >> 8) & 0xff
   \   000038   F0           MOVX    @DPTR,A
    176            
    177            Gps_epDesc.latencyReq = noLatencyReqs;
   \   000039   A3           INC     DPTR
   \   00003A   E4           CLR     A
   \   00003B   F0           MOVX    @DPTR,A
    178            afRegister( &Gps_epDesc ); 
   \   00003C                ; Setup parameters for call to function afRegister
   \   00003C   7A..         MOV     R2,#Gps_epDesc & 0xff
   \   00003E   7B..         MOV     R3,#(Gps_epDesc >> 8) & 0xff
   \   000040   12....       LCALL   ??afRegister?relay
    179            uartConfig.configured = TRUE;
   \   000043   85..82       MOV     DPL,?XSP + 0
   \   000046   85..83       MOV     DPH,?XSP + 1
   \   000049   7401         MOV     A,#0x1
   \   00004B   F0           MOVX    @DPTR,A
    180            uartConfig.baudRate = HAL_UART_BR_9600;
   \   00004C   12....       LCALL   ?XSTACK_DISP0_8
   \   00004F   E4           CLR     A
   \   000050   F0           MOVX    @DPTR,A
    181            uartConfig.flowControl = FALSE;
   \   000051   7402         MOV     A,#0x2
   \   000053   12....       LCALL   ?XSTACK_DISP0_8
   \   000056   E4           CLR     A
   \   000057   F0           MOVX    @DPTR,A
    182            HalUARTOpen(0,&uartConfig);
   \   000058                ; Setup parameters for call to function HalUARTOpen
   \   000058   85..82       MOV     DPL,?XSP + 0
   \   00005B   85..83       MOV     DPH,?XSP + 1
   \   00005E   AA82         MOV     R2,DPL
   \   000060   AB83         MOV     R3,DPH
   \   000062   F9           MOV     R1,A
   \   000063   12....       LCALL   ??HalUARTOpen?relay
    183          
    184            //P1DIR |= (1<<3);
    185            //P1_3=1;
    186          }
   \   000066   741D         MOV     A,#0x1d
   \   000068   12....       LCALL   ?DEALLOC_XSTACK8
   \   00006B                REQUIRE ?Subroutine0
   \   00006B                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   7F01         MOV     R7,#0x1
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    187          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    188          UINT16 Gps_ProcessEvent( byte task_id, UINT16 events )
   \                     Gps_ProcessEvent:
    189          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    190            afIncomingMSGPacket_t *MSGpkt;
    191          
    192            if ( events & SYS_EVENT_MSG )
   \   000009   5480         ANL     A,#0x80
   \   00000B   604E         JZ      ??Gps_ProcessEvent_0
    193            {
    194              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( Gps_TaskID );
   \   00000D                ; Setup parameters for call to function osal_msg_receive
   \   00000D   8032         SJMP    ??Gps_ProcessEvent_1
    195              while ( MSGpkt )
    196              {
    197                switch ( MSGpkt->hdr.event )
   \                     ??Gps_ProcessEvent_2:
   \   00000F   85..82       MOV     DPL,?V0 + 0
   \   000012   85..83       MOV     DPH,?V0 + 1
   \   000015   E0           MOVX    A,@DPTR
   \   000016   64D1         XRL     A,#0xd1
   \   000018   7020         JNZ     ??Gps_ProcessEvent_3
    198                {
    199                 
    200                    case ZDO_STATE_CHANGE:
    201                      Gps_NwkState = (devStates_t)(MSGpkt->hdr.status);
   \   00001A   A3           INC     DPTR
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   90....       MOV     DPTR,#Gps_NwkState
   \   00001F   F0           MOVX    @DPTR,A
    202                      if(Gps_NwkState==DEV_END_DEVICE)
   \   000020   6406         XRL     A,#0x6
   \   000022   7016         JNZ     ??Gps_ProcessEvent_3
    203                      {
    204                        P1_0=~P1_0;
   \   000024   D2F0         SETB    B.0
   \   000026   A290         MOV     C,0x90.0
   \   000028   30F001       JNB     B.0,??Gps_ProcessEvent_4
   \   00002B   B3           CPL     C
   \                     ??Gps_ProcessEvent_4:
   \   00002C   9290         MOV     0x90.0,C
    205                        osal_set_event(Gps_TaskID,SEND_DATA_EVENT);
   \   00002E                ; Setup parameters for call to function osal_set_event
   \   00002E   7A01         MOV     R2,#0x1
   \   000030   7B00         MOV     R3,#0x0
   \   000032   90....       MOV     DPTR,#Gps_TaskID
   \   000035   E0           MOVX    A,@DPTR
   \   000036   F9           MOV     R1,A
   \   000037   12....       LCALL   ??osal_set_event?relay
    206                      }
    207                      break;
    208                      
    209                    default:
    210                      break;
    211                }
    212                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??Gps_ProcessEvent_3:
   \   00003A                ; Setup parameters for call to function osal_msg_deallocate
   \   00003A   AA..         MOV     R2,?V0 + 0
   \   00003C   AB..         MOV     R3,?V0 + 1
   \   00003E   12....       LCALL   ??osal_msg_deallocate?relay
    213                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( Gps_TaskID );
   \   000041                ; Setup parameters for call to function osal_msg_receive
   \                     ??Gps_ProcessEvent_1:
   \   000041   90....       MOV     DPTR,#Gps_TaskID
   \   000044   E0           MOVX    A,@DPTR
   \   000045   F9           MOV     R1,A
   \   000046   12....       LCALL   ??osal_msg_receive?relay
   \   000049   8A..         MOV     ?V0 + 0,R2
   \   00004B   8B..         MOV     ?V0 + 1,R3
    214              }
   \   00004D   E5..         MOV     A,?V0 + 0
   \   00004F   45..         ORL     A,?V0 + 1
   \   000051   70BC         JNZ     ??Gps_ProcessEvent_2
    215              // return unprocessed events
    216              return (events ^ SYS_EVENT_MSG);
   \   000053   EE           MOV     A,R6
   \   000054   FA           MOV     R2,A
   \   000055   EF           MOV     A,R7
   \   000056   6480         XRL     A,#0x80
   \                     ??Gps_ProcessEvent_5:
   \   000058   FB           MOV     R3,A
   \   000059   801C         SJMP    ??Gps_ProcessEvent_6
    217            }
    218            if(events&SEND_DATA_EVENT)
   \                     ??Gps_ProcessEvent_0:
   \   00005B   EE           MOV     A,R6
   \   00005C   A2E0         MOV     C,0xE0 /* A   */.0
   \   00005E   5013         JNC     ??Gps_ProcessEvent_7
    219            {
    220              Gps_SendTheMessage();
   \   000060                ; Setup parameters for call to function Gps_SendTheMessage
   \   000060   12....       LCALL   ??Gps_SendTheMessage?relay
    221              osal_start_timerEx(Gps_TaskID,SEND_DATA_EVENT,Gps_SEND_MSG_TIMEOUT);
   \   000063                ; Setup parameters for call to function osal_start_timerEx
   \   000063   7C88         MOV     R4,#-0x78
   \   000065   7D13         MOV     R5,#0x13
   \   000067   7A01         MOV     R2,#0x1
   \   000069   7B00         MOV     R3,#0x0
   \   00006B   90....       MOV     DPTR,#Gps_TaskID
   \   00006E   12....       LCALL   ?Subroutine4 & 0xFFFF
    222              return(events^SEND_DATA_EVENT);
    223            }
   \                     ??CrossCallReturnLabel_12:
   \   000071   80E5         SJMP    ??Gps_ProcessEvent_5
    224            return 0;
   \                     ??Gps_ProcessEvent_7:
   \   000073   7A00         MOV     R2,#0x0
   \   000075   7B00         MOV     R3,#0x0
   \                     ??Gps_ProcessEvent_6:
   \   000077   7F04         MOV     R7,#0x4
   \   000079   02....       LJMP    ?BANKED_LEAVE_XDATA
   \   00007C                REQUIRE _A_P1
    225          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F9           MOV     R1,A
   \   000002   12....       LCALL   ??osal_start_timerEx?relay
   \   000005   EE           MOV     A,R6
   \   000006   6401         XRL     A,#0x1
   \   000008   FA           MOV     R2,A
   \   000009   EF           MOV     A,R7
   \   00000A   22           RET
    226          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    227          void Gps_SendTheMessage(void)
   \                     Gps_SendTheMessage:
    228          { 
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 45
   \   000005   74D3         MOV     A,#-0x2d
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    229            unsigned char theMessageData[33] = "Gps:";
   \   00000A   740C         MOV     A,#0xc
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   AC82         MOV     R4,DPL
   \   000011   AD83         MOV     R5,DPH
   \   000013   7583..       MOV     DPH,#(`?<Constant "Gps:">` >> 8) & 0xff
   \   000016   7582..       MOV     DPL,#`?<Constant "Gps:">` & 0xff
   \   000019   7421         MOV     A,#0x21
   \   00001B   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    230            for (unsigned char i=0;i<6;i++)
   \   00001E   FA           MOV     R2,A
    231              theMessageData[i]=UTC[i];
   \                     ??Gps_SendTheMessage_0:
   \   00001F   8A82         MOV     DPL,R2
   \   000021   A882         MOV     R0,DPL
   \   000023   74..         MOV     A,#UTC & 0xff
   \   000025   28           ADD     A,R0
   \   000026   F582         MOV     DPL,A
   \   000028   74..         MOV     A,#(UTC >> 8) & 0xff
   \   00002A   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   00002D   C0E0         PUSH    A
   \   00002F   740C         MOV     A,#0xc
   \   000031   12....       LCALL   ?XSTACK_DISP0_8
   \   000034   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   000037   D0E0         POP     A
   \   000039   F0           MOVX    @DPTR,A
   \   00003A   0A           INC     R2
   \   00003B   EA           MOV     A,R2
   \   00003C   C3           CLR     C
   \   00003D   9406         SUBB    A,#0x6
   \   00003F   40DE         JC      ??Gps_SendTheMessage_0
    232            for (unsigned char i=0;i<9;i++)
   \   000041   7A00         MOV     R2,#0x0
    233              theMessageData[i+6]=WeiDu[i];
   \                     ??Gps_SendTheMessage_1:
   \   000043   8A82         MOV     DPL,R2
   \   000045   A882         MOV     R0,DPL
   \   000047   74..         MOV     A,#WeiDu & 0xff
   \   000049   28           ADD     A,R0
   \   00004A   F582         MOV     DPL,A
   \   00004C   74..         MOV     A,#(WeiDu >> 8) & 0xff
   \   00004E   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   000051   C0E0         PUSH    A
   \   000053   740C         MOV     A,#0xc
   \   000055   12....       LCALL   ?XSTACK_DISP0_8
   \   000058   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   00005B   A3           INC     DPTR
   \   00005C   A3           INC     DPTR
   \   00005D   A3           INC     DPTR
   \   00005E   A3           INC     DPTR
   \   00005F   A3           INC     DPTR
   \   000060   A3           INC     DPTR
   \   000061   D0E0         POP     A
   \   000063   F0           MOVX    @DPTR,A
   \   000064   0A           INC     R2
   \   000065   EA           MOV     A,R2
   \   000066   C3           CLR     C
   \   000067   9409         SUBB    A,#0x9
   \   000069   40D8         JC      ??Gps_SendTheMessage_1
    234            for (unsigned char i=0;i<10;i++)
   \   00006B   7A00         MOV     R2,#0x0
    235              theMessageData[i+15]=JingDu[i];
   \                     ??Gps_SendTheMessage_2:
   \   00006D   8A82         MOV     DPL,R2
   \   00006F   A882         MOV     R0,DPL
   \   000071   74..         MOV     A,#JingDu & 0xff
   \   000073   28           ADD     A,R0
   \   000074   F582         MOV     DPL,A
   \   000076   74..         MOV     A,#(JingDu >> 8) & 0xff
   \   000078   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   00007B   C0E0         PUSH    A
   \   00007D   740C         MOV     A,#0xc
   \   00007F   12....       LCALL   ?XSTACK_DISP0_8
   \   000082   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   000085   240F         ADD     A,#0xf
   \   000087   F582         MOV     DPL,A
   \   000089   E9           MOV     A,R1
   \   00008A   3400         ADDC    A,#0x0
   \   00008C   F583         MOV     DPH,A
   \   00008E   D0E0         POP     A
   \   000090   F0           MOVX    @DPTR,A
   \   000091   0A           INC     R2
   \   000092   EA           MOV     A,R2
   \   000093   C3           CLR     C
   \   000094   940A         SUBB    A,#0xa
   \   000096   40D5         JC      ??Gps_SendTheMessage_2
    236            for (unsigned char i=0;i<1;i++)
    237              theMessageData[i+25]=JiBie[i];
   \   000098   90....       MOV     DPTR,#JiBie
   \   00009B   E0           MOVX    A,@DPTR
   \   00009C   C0E0         PUSH    A
   \   00009E   7425         MOV     A,#0x25
   \   0000A0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A3   D0E0         POP     A
   \   0000A5   F0           MOVX    @DPTR,A
    238            for (unsigned char i=0;i<2;i++)
   \   0000A6   7A00         MOV     R2,#0x0
    239              theMessageData[i+26]=WeiXing[i];
   \                     ??Gps_SendTheMessage_3:
   \   0000A8   8A82         MOV     DPL,R2
   \   0000AA   A882         MOV     R0,DPL
   \   0000AC   74..         MOV     A,#WeiXing & 0xff
   \   0000AE   28           ADD     A,R0
   \   0000AF   F582         MOV     DPL,A
   \   0000B1   74..         MOV     A,#(WeiXing >> 8) & 0xff
   \   0000B3   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   0000B6   C0E0         PUSH    A
   \   0000B8   740C         MOV     A,#0xc
   \   0000BA   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BD   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   0000C0   241A         ADD     A,#0x1a
   \   0000C2   F582         MOV     DPL,A
   \   0000C4   E9           MOV     A,R1
   \   0000C5   3400         ADDC    A,#0x0
   \   0000C7   F583         MOV     DPH,A
   \   0000C9   D0E0         POP     A
   \   0000CB   F0           MOVX    @DPTR,A
   \   0000CC   0A           INC     R2
   \   0000CD   EA           MOV     A,R2
   \   0000CE   C3           CLR     C
   \   0000CF   9402         SUBB    A,#0x2
   \   0000D1   40D5         JC      ??Gps_SendTheMessage_3
    240            for (unsigned char i=0;i<5;i++)
   \   0000D3   7A00         MOV     R2,#0x0
    241              theMessageData[i+28]=GaoDu[i];
   \                     ??Gps_SendTheMessage_4:
   \   0000D5   8A82         MOV     DPL,R2
   \   0000D7   A882         MOV     R0,DPL
   \   0000D9   74..         MOV     A,#GaoDu & 0xff
   \   0000DB   28           ADD     A,R0
   \   0000DC   F582         MOV     DPL,A
   \   0000DE   74..         MOV     A,#(GaoDu >> 8) & 0xff
   \   0000E0   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_30:
   \   0000E3   C0E0         PUSH    A
   \   0000E5   740C         MOV     A,#0xc
   \   0000E7   12....       LCALL   ?XSTACK_DISP0_8
   \   0000EA   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   0000ED   241C         ADD     A,#0x1c
   \   0000EF   F582         MOV     DPL,A
   \   0000F1   E9           MOV     A,R1
   \   0000F2   3400         ADDC    A,#0x0
   \   0000F4   F583         MOV     DPH,A
   \   0000F6   D0E0         POP     A
   \   0000F8   F0           MOVX    @DPTR,A
   \   0000F9   0A           INC     R2
   \   0000FA   EA           MOV     A,R2
   \   0000FB   C3           CLR     C
   \   0000FC   9405         SUBB    A,#0x5
   \   0000FE   40D5         JC      ??Gps_SendTheMessage_4
    242          
    243            afAddrType_t my_DstAddr;
    244          
    245            my_DstAddr.addrMode=(afAddrMode_t)Addr16Bit;
   \   000100   7408         MOV     A,#0x8
   \   000102   12....       LCALL   ?XSTACK_DISP0_8
   \   000105   7402         MOV     A,#0x2
   \   000107   F0           MOVX    @DPTR,A
    246            my_DstAddr.endPoint=Gps_ENDPOINT;
   \   000108   7409         MOV     A,#0x9
   \   00010A   12....       LCALL   ?XSTACK_DISP0_8
   \   00010D   740A         MOV     A,#0xa
   \   00010F   F0           MOVX    @DPTR,A
    247            my_DstAddr.addr.shortAddr=0x0000; 
   \   000110   85..82       MOV     DPL,?XSP + 0
   \   000113   85..83       MOV     DPH,?XSP + 1
   \   000116   E4           CLR     A
   \   000117   F0           MOVX    @DPTR,A
   \   000118   A3           INC     DPTR
   \   000119   F0           MOVX    @DPTR,A
    248          
    249            AF_DataRequest(&my_DstAddr
    250            ,&Gps_epDesc
    251            ,Gps_CLUSTERID
    252            ,33
    253            ,theMessageData
    254            ,&Gps_TransID
    255            ,AF_DISCV_ROUTE
    256            ,AF_DEFAULT_RADIUS);
   \   00011A                ; Setup parameters for call to function AF_DataRequest
   \   00011A   75..1E       MOV     ?V0 + 0,#0x1e
   \   00011D   78..         MOV     R0,#?V0 + 0
   \   00011F   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000122   75....       MOV     ?V0 + 0,#Gps_TransID & 0xff
   \   000125   75....       MOV     ?V0 + 1,#(Gps_TransID >> 8) & 0xff
   \   000128   78..         MOV     R0,#?V0 + 0
   \   00012A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00012D   740F         MOV     A,#0xf
   \   00012F   12....       LCALL   ?XSTACK_DISP0_8
   \   000132   8582..       MOV     ?V0 + 0,DPL
   \   000135   8583..       MOV     ?V0 + 1,DPH
   \   000138   78..         MOV     R0,#?V0 + 0
   \   00013A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00013D   75..21       MOV     ?V0 + 0,#0x21
   \   000140   75..00       MOV     ?V0 + 1,#0x0
   \   000143   78..         MOV     R0,#?V0 + 0
   \   000145   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000148   75..04       MOV     ?V0 + 0,#0x4
   \   00014B   78..         MOV     R0,#?V0 + 0
   \   00014D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000150   7920         MOV     R1,#0x20
   \   000152   7C..         MOV     R4,#Gps_epDesc & 0xff
   \   000154   7D..         MOV     R5,#(Gps_epDesc >> 8) & 0xff
   \   000156   7409         MOV     A,#0x9
   \   000158   12....       LCALL   ?XSTACK_DISP0_8
   \   00015B   AA82         MOV     R2,DPL
   \   00015D   AB83         MOV     R3,DPH
   \   00015F   12....       LCALL   ??AF_DataRequest?relay
   \   000162   7409         MOV     A,#0x9
   \   000164   12....       LCALL   ?DEALLOC_XSTACK8
    257          }
   \   000167   742D         MOV     A,#0x2d
   \   000169   12....       LCALL   ?DEALLOC_XSTACK8
   \   00016C   7F02         MOV     R7,#0x2
   \   00016E   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F583         MOV     DPH,A
   \   000004   E0           MOVX    A,@DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   E582         MOV     A,DPL
   \   000002   28           ADD     A,R0
   \   000003   F582         MOV     DPL,A
   \   000005   E583         MOV     A,DPH
   \   000007   3400         ADDC    A,#0x0
   \   000009   F583         MOV     DPH,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   E582         MOV     A,DPL
   \   000002   28           ADD     A,R0
   \   000003   F8           MOV     R0,A
   \   000004   E583         MOV     A,DPH
   \   000006   3400         ADDC    A,#0x0
   \   000008   F9           MOV     R1,A
   \   000009   E8           MOV     A,R0
   \   00000A   22           RET
    258          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    259          void handle()
   \                     handle:
    260          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    261                  check = 0;
   \   000004   90....       MOV     DPTR,#check
   \   000007   E4           CLR     A
   \   000008   F0           MOVX    @DPTR,A
   \   000009   A3           INC     DPTR
   \   00000A   F0           MOVX    @DPTR,A
    262                  Recdata_GPGGA_start=0;
   \   00000B   90....       MOV     DPTR,#Recdata_GPGGA_start
   \   00000E   F0           MOVX    @DPTR,A
   \   00000F   A3           INC     DPTR
   \   000010   F0           MOVX    @DPTR,A
    263                  while(check<295)
    264                  {
    265                          if(Recdata[check]=='$'&&Recdata[check+1]=='G'&&Recdata[check+2]=='P'
    266                             &&Recdata[check+3]=='G'&&Recdata[check+4]=='G'&&Recdata[check+5]=='A')
   \                     ??handle_0:
   \   000011   90....       MOV     DPTR,#check
   \   000014   E0           MOVX    A,@DPTR
   \   000015   24..         ADD     A,#Recdata & 0xff
   \   000017   F8           MOV     R0,A
   \   000018   A3           INC     DPTR
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   34..         ADDC    A,#(Recdata >> 8) & 0xff
   \   00001C   F9           MOV     R1,A
   \   00001D   8882         MOV     DPL,R0
   \   00001F   8983         MOV     DPH,R1
   \   000021   E0           MOVX    A,@DPTR
   \   000022   6424         XRL     A,#0x24
   \   000024   6003         JZ      $+5
   \   000026   02....       LJMP    ??handle_1 & 0xFFFF
   \   000029   90....       MOV     DPTR,#check
   \   00002C   E0           MOVX    A,@DPTR
   \   00002D   24..         ADD     A,#(Recdata + 1) & 0xff
   \   00002F   08           INC     R0
   \   000030   A3           INC     DPTR
   \   000031   E0           MOVX    A,@DPTR
   \   000032   34..         ADDC    A,#((Recdata + 1) >> 8) & 0xff
   \   000034   F9           MOV     R1,A
   \   000035   8882         MOV     DPL,R0
   \   000037   8983         MOV     DPH,R1
   \   000039   E0           MOVX    A,@DPTR
   \   00003A   6447         XRL     A,#0x47
   \   00003C   6003         JZ      $+5
   \   00003E   02....       LJMP    ??handle_1 & 0xFFFF
   \   000041   90....       MOV     DPTR,#check
   \   000044   E0           MOVX    A,@DPTR
   \   000045   24..         ADD     A,#(Recdata + 2) & 0xff
   \   000047   08           INC     R0
   \   000048   A3           INC     DPTR
   \   000049   E0           MOVX    A,@DPTR
   \   00004A   34..         ADDC    A,#((Recdata + 2) >> 8) & 0xff
   \   00004C   F9           MOV     R1,A
   \   00004D   8882         MOV     DPL,R0
   \   00004F   8983         MOV     DPH,R1
   \   000051   E0           MOVX    A,@DPTR
   \   000052   6450         XRL     A,#0x50
   \   000054   6003         JZ      $+5
   \   000056   02....       LJMP    ??handle_1 & 0xFFFF
   \   000059   90....       MOV     DPTR,#check
   \   00005C   E0           MOVX    A,@DPTR
   \   00005D   24..         ADD     A,#(Recdata + 3) & 0xff
   \   00005F   08           INC     R0
   \   000060   A3           INC     DPTR
   \   000061   E0           MOVX    A,@DPTR
   \   000062   34..         ADDC    A,#((Recdata + 3) >> 8) & 0xff
   \   000064   F9           MOV     R1,A
   \   000065   8882         MOV     DPL,R0
   \   000067   8983         MOV     DPH,R1
   \   000069   E0           MOVX    A,@DPTR
   \   00006A   6447         XRL     A,#0x47
   \   00006C   6003         JZ      $+5
   \   00006E   02....       LJMP    ??handle_1 & 0xFFFF
   \   000071   90....       MOV     DPTR,#check
   \   000074   E0           MOVX    A,@DPTR
   \   000075   24..         ADD     A,#(Recdata + 4) & 0xff
   \   000077   08           INC     R0
   \   000078   A3           INC     DPTR
   \   000079   E0           MOVX    A,@DPTR
   \   00007A   34..         ADDC    A,#((Recdata + 4) >> 8) & 0xff
   \   00007C   F9           MOV     R1,A
   \   00007D   8882         MOV     DPL,R0
   \   00007F   8983         MOV     DPH,R1
   \   000081   E0           MOVX    A,@DPTR
   \   000082   6447         XRL     A,#0x47
   \   000084   6003         JZ      $+5
   \   000086   02....       LJMP    ??handle_1 & 0xFFFF
   \   000089   90....       MOV     DPTR,#check
   \   00008C   E0           MOVX    A,@DPTR
   \   00008D   24..         ADD     A,#(Recdata + 5) & 0xff
   \   00008F   08           INC     R0
   \   000090   A3           INC     DPTR
   \   000091   E0           MOVX    A,@DPTR
   \   000092   34..         ADDC    A,#((Recdata + 5) >> 8) & 0xff
   \   000094   F9           MOV     R1,A
   \   000095   8882         MOV     DPL,R0
   \   000097   8983         MOV     DPH,R1
   \   000099   E0           MOVX    A,@DPTR
   \   00009A   6441         XRL     A,#0x41
   \   00009C   6003         JZ      $+5
   \   00009E   02....       LJMP    ??handle_1 & 0xFFFF
    267                          {
    268                                  position=check+6;
   \   0000A1   90....       MOV     DPTR,#check
   \   0000A4   E0           MOVX    A,@DPTR
   \   0000A5   2406         ADD     A,#0x6
   \   0000A7   F8           MOV     R0,A
   \   0000A8   A3           INC     DPTR
   \   0000A9   E0           MOVX    A,@DPTR
   \   0000AA   3400         ADDC    A,#0x0
   \   0000AC   F9           MOV     R1,A
   \   0000AD   90....       MOV     DPTR,#position
   \   0000B0   E8           MOV     A,R0
   \   0000B1   F0           MOVX    @DPTR,A
   \   0000B2   A3           INC     DPTR
   \   0000B3   E9           MOV     A,R1
   \   0000B4   802C         SJMP    ??CrossCallReturnLabel_16
    269                                  while(Recdata_GPGGA_start<70&&Recdata[position++]!='$')
    270                                  {
    271                                          Recdata_GPGGA[Recdata_GPGGA_start++]=Recdata[position-1];
   \                     ??handle_2:
   \   0000B6   90....       MOV     DPTR,#position
   \   0000B9   E0           MOVX    A,@DPTR
   \   0000BA   24..         ADD     A,#(Recdata + 255) & 0xff
   \   0000BC   F8           MOV     R0,A
   \   0000BD   A3           INC     DPTR
   \   0000BE   E0           MOVX    A,@DPTR
   \   0000BF   34..         ADDC    A,#((Recdata - 1) >> 8) & 0xff
   \   0000C1   F9           MOV     R1,A
   \   0000C2   8882         MOV     DPL,R0
   \   0000C4   8983         MOV     DPH,R1
   \   0000C6   E0           MOVX    A,@DPTR
   \   0000C7   C0E0         PUSH    A
   \   0000C9   90....       MOV     DPTR,#Recdata_GPGGA_start
   \   0000CC   E0           MOVX    A,@DPTR
   \   0000CD   24..         ADD     A,#Recdata_GPGGA & 0xff
   \   0000CF   F8           MOV     R0,A
   \   0000D0   A3           INC     DPTR
   \   0000D1   E0           MOVX    A,@DPTR
   \   0000D2   34..         ADDC    A,#(Recdata_GPGGA >> 8) & 0xff
   \   0000D4   F9           MOV     R1,A
   \   0000D5   8882         MOV     DPL,R0
   \   0000D7   8983         MOV     DPH,R1
   \   0000D9   D0E0         POP     A
   \   0000DB   F0           MOVX    @DPTR,A
   \   0000DC   90....       MOV     DPTR,#Recdata_GPGGA_start
   \   0000DF   12....       LCALL   ?Subroutine6 & 0xFFFF
    272                                  }
   \                     ??CrossCallReturnLabel_16:
   \   0000E2   F0           MOVX    @DPTR,A
   \   0000E3   90....       MOV     DPTR,#Recdata_GPGGA_start
   \   0000E6   C3           CLR     C
   \   0000E7   E0           MOVX    A,@DPTR
   \   0000E8   9446         SUBB    A,#0x46
   \   0000EA   A3           INC     DPTR
   \   0000EB   E0           MOVX    A,@DPTR
   \   0000EC   9400         SUBB    A,#0x0
   \   0000EE   5027         JNC     ??handle_3
   \   0000F0   90....       MOV     DPTR,#position
   \   0000F3   E0           MOVX    A,@DPTR
   \   0000F4   F8           MOV     R0,A
   \   0000F5   A3           INC     DPTR
   \   0000F6   E0           MOVX    A,@DPTR
   \   0000F7   F9           MOV     R1,A
   \   0000F8   E8           MOV     A,R0
   \   0000F9   2401         ADD     A,#0x1
   \   0000FB   FA           MOV     R2,A
   \   0000FC   E9           MOV     A,R1
   \   0000FD   3400         ADDC    A,#0x0
   \   0000FF   FB           MOV     R3,A
   \   000100   90....       MOV     DPTR,#position
   \   000103   EA           MOV     A,R2
   \   000104   F0           MOVX    @DPTR,A
   \   000105   A3           INC     DPTR
   \   000106   EB           MOV     A,R3
   \   000107   F0           MOVX    @DPTR,A
   \   000108   74..         MOV     A,#Recdata & 0xff
   \   00010A   28           ADD     A,R0
   \   00010B   F582         MOV     DPL,A
   \   00010D   74..         MOV     A,#(Recdata >> 8) & 0xff
   \   00010F   39           ADDC    A,R1
   \   000110   F583         MOV     DPH,A
   \   000112   E0           MOVX    A,@DPTR
   \   000113   6424         XRL     A,#0x24
   \   000115   709F         JNZ     ??handle_2
    273                                  uint i_utc=0;
   \                     ??handle_3:
   \   000117   7A00         MOV     R2,#0x0
   \   000119   7B00         MOV     R3,#0x0
    274                                  uint i=0;
   \   00011B   7800         MOV     R0,#0x0
   \   00011D   7900         MOV     R1,#0x0
    275                                  if(Recdata_GPGGA[i_utc+1]!='H')
   \   00011F   90....       MOV     DPTR,#Recdata_GPGGA + 1
   \   000122   E0           MOVX    A,@DPTR
   \   000123   6448         XRL     A,#0x48
   \   000125   7014         JNZ     ??CrossCallReturnLabel_0
   \   000127   8017         SJMP    ??handle_4
    276                                  {
    277                                          while(Recdata_GPGGA[i_utc+1]!=',')
    278                                          {
    279                                                  UTC[i++]=Recdata_GPGGA[i_utc+1];
   \                     ??handle_5:
   \   000129   E0           MOVX    A,@DPTR
   \   00012A   C0E0         PUSH    A
   \   00012C   74..         MOV     A,#UTC & 0xff
   \   00012E   28           ADD     A,R0
   \   00012F   F582         MOV     DPL,A
   \   000131   74..         MOV     A,#(UTC >> 8) & 0xff
   \   000133   39           ADDC    A,R1
   \   000134   F583         MOV     DPH,A
   \   000136   D0E0         POP     A
   \   000138   12....       LCALL   ?Subroutine1 & 0xFFFF
    280                                                  i_utc++;
    281                                          }
   \                     ??CrossCallReturnLabel_0:
   \   00013B   12....       LCALL   ?Subroutine7 & 0xFFFF
    282                                  }
   \                     ??CrossCallReturnLabel_18:
   \   00013E   70E9         JNZ     ??handle_5
    283                                  uint i_weidu=i_utc+1;
   \                     ??handle_4:
   \   000140   EA           MOV     A,R2
   \   000141   2401         ADD     A,#0x1
   \   000143   0A           INC     R2
   \   000144   EB           MOV     A,R3
   \   000145   3400         ADDC    A,#0x0
   \   000147   FB           MOV     R3,A
    284                                  i=0;
   \   000148   7800         MOV     R0,#0x0
   \   00014A   7900         MOV     R1,#0x0
   \   00014C   8012         SJMP    ??CrossCallReturnLabel_1
    285                                  while(Recdata_GPGGA[i_weidu+1]!=',')
    286                                  {
    287                                          WeiDu[i++]=Recdata_GPGGA[i_weidu+1];
   \                     ??handle_6:
   \   00014E   E0           MOVX    A,@DPTR
   \   00014F   C0E0         PUSH    A
   \   000151   74..         MOV     A,#WeiDu & 0xff
   \   000153   28           ADD     A,R0
   \   000154   F582         MOV     DPL,A
   \   000156   74..         MOV     A,#(WeiDu >> 8) & 0xff
   \   000158   39           ADDC    A,R1
   \   000159   F583         MOV     DPH,A
   \   00015B   D0E0         POP     A
   \   00015D   12....       LCALL   ?Subroutine1 & 0xFFFF
    288                                          i_weidu++;
    289                                  }
   \                     ??CrossCallReturnLabel_1:
   \   000160   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   000163   70E9         JNZ     ??handle_6
    290                                  uint i_N=i_weidu+1;
   \   000165   EA           MOV     A,R2
   \   000166   2401         ADD     A,#0x1
   \   000168   F8           MOV     R0,A
   \   000169   EB           MOV     A,R3
   \   00016A   8005         SJMP    ??handle_7
    291                                  i=0;
    292                                  while(Recdata_GPGGA[i_N+1]!=',')
    293                                  {
    294                                          i_N++;
   \                     ??handle_8:
   \   00016C   E8           MOV     A,R0
   \   00016D   2401         ADD     A,#0x1
   \   00016F   08           INC     R0
   \   000170   E9           MOV     A,R1
    295                                  }
   \                     ??handle_7:
   \   000171   12....       LCALL   ?Subroutine2 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   000174   70F6         JNZ     ??handle_8
    296                                  uint i_JingDu=i_N+1;
   \   000176   12....       LCALL   ?Subroutine8 & 0xFFFF
    297                                  i=0;
   \                     ??CrossCallReturnLabel_23:
   \   000179   8012         SJMP    ??CrossCallReturnLabel_2
    298                                  while(Recdata_GPGGA[i_JingDu+1]!=',')
    299                                  {
    300                                          JingDu[i++]=Recdata_GPGGA[i_JingDu+1];
   \                     ??handle_9:
   \   00017B   E0           MOVX    A,@DPTR
   \   00017C   C0E0         PUSH    A
   \   00017E   74..         MOV     A,#JingDu & 0xff
   \   000180   28           ADD     A,R0
   \   000181   F582         MOV     DPL,A
   \   000183   74..         MOV     A,#(JingDu >> 8) & 0xff
   \   000185   39           ADDC    A,R1
   \   000186   F583         MOV     DPH,A
   \   000188   D0E0         POP     A
   \   00018A   12....       LCALL   ?Subroutine1 & 0xFFFF
    301                                          i_JingDu++;
    302                                  }
   \                     ??CrossCallReturnLabel_2:
   \   00018D   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   000190   70E9         JNZ     ??handle_9
    303                                  uint i_E=i_JingDu+1;
   \   000192   EA           MOV     A,R2
   \   000193   2401         ADD     A,#0x1
   \   000195   F8           MOV     R0,A
   \   000196   EB           MOV     A,R3
   \   000197   8005         SJMP    ??handle_10
    304                                  i=0;
    305                                  while(Recdata_GPGGA[i_E+1]!=',')
    306                                  {
    307                                          i_E++;
   \                     ??handle_11:
   \   000199   E8           MOV     A,R0
   \   00019A   2401         ADD     A,#0x1
   \   00019C   08           INC     R0
   \   00019D   E9           MOV     A,R1
    308                                  }
   \                     ??handle_10:
   \   00019E   12....       LCALL   ?Subroutine2 & 0xFFFF
   \                     ??CrossCallReturnLabel_6:
   \   0001A1   70F6         JNZ     ??handle_11
    309                                  uint i_temp=i_E+1;
    310                                  i=0;
    311                                  while(Recdata_GPGGA[i_temp+1]!=',')
    312                                  {
    313                                          i_temp++;
   \                     ??handle_12:
   \   0001A3   E8           MOV     A,R0
   \   0001A4   2401         ADD     A,#0x1
   \   0001A6   08           INC     R0
   \   0001A7   E9           MOV     A,R1
   \   0001A8   12....       LCALL   ?Subroutine2 & 0xFFFF
    314                                  }
   \                     ??CrossCallReturnLabel_7:
   \   0001AB   70F6         JNZ     ??handle_12
    315                                  uint i_WeiXing=i_temp+1;
   \   0001AD   12....       LCALL   ?Subroutine8 & 0xFFFF
    316                                  i=0;
   \                     ??CrossCallReturnLabel_24:
   \   0001B0   8012         SJMP    ??CrossCallReturnLabel_3
    317                                  while(Recdata_GPGGA[i_WeiXing+1]!=',')
    318                                  {
    319                                          WeiXing[i++]=Recdata_GPGGA[i_WeiXing+1];
   \                     ??handle_13:
   \   0001B2   E0           MOVX    A,@DPTR
   \   0001B3   C0E0         PUSH    A
   \   0001B5   74..         MOV     A,#WeiXing & 0xff
   \   0001B7   28           ADD     A,R0
   \   0001B8   F582         MOV     DPL,A
   \   0001BA   74..         MOV     A,#(WeiXing >> 8) & 0xff
   \   0001BC   39           ADDC    A,R1
   \   0001BD   F583         MOV     DPH,A
   \   0001BF   D0E0         POP     A
   \   0001C1   12....       LCALL   ?Subroutine1 & 0xFFFF
    320                                          i_WeiXing++;
    321                                  }
   \                     ??CrossCallReturnLabel_3:
   \   0001C4   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   0001C7   70E9         JNZ     ??handle_13
    322                                  uint i_W=i_WeiXing+1;
   \   0001C9   EA           MOV     A,R2
   \   0001CA   2401         ADD     A,#0x1
   \   0001CC   F8           MOV     R0,A
   \   0001CD   EB           MOV     A,R3
   \   0001CE   8005         SJMP    ??handle_14
    323                                  i=0;
    324                                  while(Recdata_GPGGA[i_W+1]!=',')
    325                                  {         
    326                                          i_W++;
   \                     ??handle_15:
   \   0001D0   E8           MOV     A,R0
   \   0001D1   2401         ADD     A,#0x1
   \   0001D3   08           INC     R0
   \   0001D4   E9           MOV     A,R1
    327                                  }
   \                     ??handle_14:
   \   0001D5   12....       LCALL   ?Subroutine2 & 0xFFFF
   \                     ??CrossCallReturnLabel_8:
   \   0001D8   70F6         JNZ     ??handle_15
    328                                  uint i_GaoDu=i_W+1;
   \   0001DA   12....       LCALL   ?Subroutine8 & 0xFFFF
    329                                  i=0;
   \                     ??CrossCallReturnLabel_25:
   \   0001DD   8012         SJMP    ??CrossCallReturnLabel_4
    330                                  while(Recdata_GPGGA[i_GaoDu+1]!=',')
    331                                  {    
    332                                          GaoDu[i++]=Recdata_GPGGA[i_GaoDu+1];
   \                     ??handle_16:
   \   0001DF   E0           MOVX    A,@DPTR
   \   0001E0   C0E0         PUSH    A
   \   0001E2   74..         MOV     A,#GaoDu & 0xff
   \   0001E4   28           ADD     A,R0
   \   0001E5   F582         MOV     DPL,A
   \   0001E7   74..         MOV     A,#(GaoDu >> 8) & 0xff
   \   0001E9   39           ADDC    A,R1
   \   0001EA   F583         MOV     DPH,A
   \   0001EC   D0E0         POP     A
   \   0001EE   12....       LCALL   ?Subroutine1 & 0xFFFF
    333                                          i_GaoDu++;
    334                                  }
   \                     ??CrossCallReturnLabel_4:
   \   0001F1   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_22:
   \   0001F4   70E9         JNZ     ??handle_16
    335                                  check = 295;
   \   0001F6   90....       MOV     DPTR,#check
   \   0001F9   7427         MOV     A,#0x27
   \   0001FB   F0           MOVX    @DPTR,A
   \   0001FC   A3           INC     DPTR
   \   0001FD   7401         MOV     A,#0x1
   \   0001FF   F0           MOVX    @DPTR,A
    336                          }
    337                          check=check+1;
   \                     ??handle_1:
   \   000200   90....       MOV     DPTR,#check
   \   000203   12....       LCALL   ?Subroutine6 & 0xFFFF
    338                  } 	  
   \                     ??CrossCallReturnLabel_17:
   \   000206   F0           MOVX    @DPTR,A
   \   000207   90....       MOV     DPTR,#check
   \   00020A   C3           CLR     C
   \   00020B   E0           MOVX    A,@DPTR
   \   00020C   9427         SUBB    A,#0x27
   \   00020E   A3           INC     DPTR
   \   00020F   E0           MOVX    A,@DPTR
   \   000210   9401         SUBB    A,#0x1
   \   000212   5003         JNC     $+5
   \   000214   02....       LJMP    ??handle_0 & 0xFFFF
    339          }
   \   000217   D083         POP     DPH
   \   000219   D082         POP     DPL
   \   00021B   02....       LJMP    ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   E8           MOV     A,R0
   \   000001   2401         ADD     A,#0x1
   \   000003   FA           MOV     R2,A
   \   000004   E9           MOV     A,R1
   \   000005   3400         ADDC    A,#0x0
   \   000007   FB           MOV     R3,A
   \   000008   7800         MOV     R0,#0x0
   \   00000A   7900         MOV     R1,#0x0
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   74..         MOV     A,#(Recdata_GPGGA + 1) & 0xff
   \   000002   2A           ADD     A,R2
   \   000003   F582         MOV     DPL,A
   \   000005   74..         MOV     A,#((Recdata_GPGGA + 1) >> 8) & 0xff
   \   000007   3B           ADDC    A,R3
   \   000008   F583         MOV     DPH,A
   \   00000A   E0           MOVX    A,@DPTR
   \   00000B   642C         XRL     A,#0x2c
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   2401         ADD     A,#0x1
   \   000003   F0           MOVX    @DPTR,A
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   3400         ADDC    A,#0x0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   3400         ADDC    A,#0x0
   \   000002   F9           MOV     R1,A
   \   000003   74..         MOV     A,#(Recdata_GPGGA + 1) & 0xff
   \   000005   28           ADD     A,R0
   \   000006   F582         MOV     DPL,A
   \   000008   74..         MOV     A,#((Recdata_GPGGA + 1) >> 8) & 0xff
   \   00000A   39           ADDC    A,R1
   \   00000B   F583         MOV     DPH,A
   \   00000D   E0           MOVX    A,@DPTR
   \   00000E   642C         XRL     A,#0x2c
   \   000010   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   E8           MOV     A,R0
   \   000002   2401         ADD     A,#0x1
   \   000004   08           INC     R0
   \   000005   E9           MOV     A,R1
   \   000006   3400         ADDC    A,#0x0
   \   000008   F9           MOV     R1,A
   \   000009   EA           MOV     A,R2
   \   00000A   2401         ADD     A,#0x1
   \   00000C   0A           INC     R2
   \   00000D   EB           MOV     A,R3
   \   00000E   3400         ADDC    A,#0x0
   \   000010   FB           MOV     R3,A
   \   000011   22           RET
    340          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    341          void GpsMeasurement_Init( uint8 task_id )
   \                     GpsMeasurement_Init:
    342          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
    343            Gps_Uart_TaskID = task_id;
   \   000006   90....       MOV     DPTR,#Gps_Uart_TaskID
   \   000009   F0           MOVX    @DPTR,A
    344            Gps_Uart_TransID = 0;
   \   00000A   90....       MOV     DPTR,#Gps_Uart_TransID
   \   00000D   E4           CLR     A
   \   00000E   F0           MOVX    @DPTR,A
    345          
    346          #if defined ( LCD_SUPPORTED )
    347            //HalLcdWriteString( "TempHumApp", HAL_LCD_LINE_1 );
    348          #endif
    349            
    350            osal_start_timerEx( Gps_Uart_TaskID,
    351                                  GPSMEASUREMENT_EVT,
    352                                  GPSMEASUREMENT_TIMEOUT );
   \   00000F                ; Setup parameters for call to function osal_start_timerEx
   \   00000F   7C20         MOV     R4,#0x20
   \   000011   7D03         MOV     R5,#0x3
   \   000013   7A01         MOV     R2,#0x1
   \   000015   FB           MOV     R3,A
   \   000016   12....       LCALL   ??osal_start_timerEx?relay
    353            
    354            RegisterForKeys( Gps_Uart_TaskID );
   \   000019                ; Setup parameters for call to function RegisterForKeys
   \   000019   90....       MOV     DPTR,#Gps_Uart_TaskID
   \   00001C   E0           MOVX    A,@DPTR
   \   00001D   F9           MOV     R1,A
   \   00001E   12....       LCALL   ??RegisterForKeys?relay
    355          }
   \   000021   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    356          uint16 GpsMeasurement_ProcessEvent( uint8 task_id, uint16 events )
   \                     GpsMeasurement_ProcessEvent:
    357          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    358            if ( events & GPSMEASUREMENT_EVT )
   \   000009   EE           MOV     A,R6
   \   00000A   A2E0         MOV     C,0xE0 /* A   */.0
   \   00000C   5021         JNC     ??GpsMeasurement_ProcessEvent_0
    359            {
    360          
    361            HalUARTRead(0, Recdata, 100);
   \   00000E                ; Setup parameters for call to function HalUARTRead
   \   00000E   7C64         MOV     R4,#0x64
   \   000010   7D00         MOV     R5,#0x0
   \   000012   7A..         MOV     R2,#Recdata & 0xff
   \   000014   7B..         MOV     R3,#(Recdata >> 8) & 0xff
   \   000016   7900         MOV     R1,#0x0
   \   000018   12....       LCALL   ??HalUARTRead?relay
    362            handle();
   \   00001B                ; Setup parameters for call to function handle
   \   00001B   12....       LCALL   ??handle?relay
    363            osal_start_timerEx( Gps_Uart_TaskID,
    364                                  GPSMEASUREMENT_EVT,
    365                                  GPSMEASUREMENT_TIMEOUT );
   \   00001E                ; Setup parameters for call to function osal_start_timerEx
   \   00001E   7C20         MOV     R4,#0x20
   \   000020   7D03         MOV     R5,#0x3
   \   000022   7A01         MOV     R2,#0x1
   \   000024   7B00         MOV     R3,#0x0
   \   000026   90....       MOV     DPTR,#Gps_Uart_TaskID
   \   000029   12....       LCALL   ?Subroutine4 & 0xFFFF
    366          
    367          
    368          #if defined ( LCD_SUPPORTED )
    369          #endif
    370          
    371              // return unprocessed events
    372              return (events ^ GPSMEASUREMENT_EVT);
    373            }
   \                     ??CrossCallReturnLabel_13:
   \   00002C   FB           MOV     R3,A
   \   00002D   8004         SJMP    ??GpsMeasurement_ProcessEvent_1
    374          
    375            // Discard unknown events
    376            return 0;
   \                     ??GpsMeasurement_ProcessEvent_0:
   \   00002F   7A00         MOV     R2,#0x0
   \   000031   7B00         MOV     R3,#0x0
   \                     ??GpsMeasurement_ProcessEvent_1:
   \   000033   02....       LJMP    ?Subroutine0 & 0xFFFF
    377          }

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Recdata>`:
   \   000000   54455354     DB 54H, 45H, 53H, 54H, 44H, 41H, 54H, 41H
   \            44415441
   \   000008   53244750     DB 53H, 24H, 47H, 50H, 47H, 47H, 41H, 2CH
   \            4747412C
   \   000010   30333334     DB 30H, 33H, 33H, 34H, 31H, 30H, 2EH, 30H
   \            31302E30
   \   000018   30302C32     DB 30H, 30H, 2CH, 32H, 32H, 33H, 32H, 2EH
   \            3233322E
   \   000020   31373435     DB 31H, 37H, 34H, 35H, 2CH, 4EH, 2CH, 31H
   \            2C4E2C31
   \   000028   31343031     DB 31H, 34H, 30H, 31H, 2EH, 31H, 39H, 32H
   \            2E313932
   \   000030   302C452C     DB 30H, 2CH, 45H, 2CH, 31H, 2CH, 30H, 37H
   \            312C3037
   \   000038   2C312E31     DB 2CH, 31H, 2EH, 31H, 2CH, 31H, 30H, 37H
   \            2C313037
   \   000040   2E31342C     DB 2EH, 31H, 34H, 2CH, 4DH, 2CH, 30H, 2EH
   \            4D2C302E
   \   000048   30302C4D     DB 30H, 30H, 2CH, 4DH, 2CH, 2CH, 2AH, 36H
   \            2C2C2A36
   \   000050   3400         DB 34H, 0
   \   000052   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00005A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000062   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00006A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000072   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00007A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000082   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00008A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000092   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00009A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000A2   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000AA   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000B2   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000BA   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000C2   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000CA   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000D2   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000DA   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000E2   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000EA   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000F2   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   0000FA   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000102   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00010A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000112   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00011A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000122   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00012A   0000         DB 0, 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for Recdata_GPGGA>`:
   \   000000   2000         DB " "
   \   000002   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00000A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000012   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00001A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000022   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00002A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000032   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00003A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000042   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00004A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000052   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00005A   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000062   0000         DB 0, 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for UTC>`:
   \   000000   30303030     DB 30H, 30H, 30H, 30H, 30H, 30H
   \            3030    

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for JingDu>`:
   \   000000   30303030     DB 30H, 30H, 30H, 30H, 30H, 30H, 30H, 30H
   \            30303030
   \   000008   3030         DB 30H, 30H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for WeiDu>`:
   \   000000   30303030     DB 30H, 30H, 30H, 30H, 30H, 30H, 30H, 30H
   \            30303030
   \   000008   30           DB 30H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for GaoDu>`:
   \   000000   30303030     DB 30H, 30H, 30H, 30H, 30H
   \            30      

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for WeiXing>`:
   \   000000   3030         DB 30H, 30H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for JiBie>`:
   \   000000   79           DB 79H

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for RXTXflag>`:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for position>`:
   \   000000   0600         DW 6

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for flag>`:
   \   000000   30           DB 48

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Gps_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Gps_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Gps_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Gps_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??Gps_SendTheMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Gps_SendTheMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??handle?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    handle

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GpsMeasurement_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GpsMeasurement_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??GpsMeasurement_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    GpsMeasurement_ProcessEvent

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Gps:">`:
   \   000000   4770733A     DB "Gps:"
   \            00      
   \   000005   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00000D   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000015   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00001D   00000000     DB 0, 0, 0, 0

   Maximum stack usage in bytes:

     Function                    ISTACK PSTACK XSTACK
     --------                    ------ ------ ------
     GpsMeasurement_Init             0      0      9
       -> osal_start_timerEx         0      0     18
       -> RegisterForKeys            0      0     18
     GpsMeasurement_ProcessEvent     0      0      9
       -> HalUARTRead                0      0     18
       -> handle                     0      0     18
       -> osal_start_timerEx         0      0     18
     Gps_Init                        0      0     38
       -> MT_UartInit                0      0     76
       -> MT_UartRegisterTaskID      0      0     76
       -> afRegister                 0      0     76
       -> HalUARTOpen                0      0     76
     Gps_ProcessEvent                0      0     12
       -> osal_msg_receive           0      0     24
       -> osal_set_event             0      0     24
       -> osal_msg_deallocate        0      0     24
       -> osal_msg_receive           0      0     24
       -> Gps_SendTheMessage         0      0     24
       -> osal_start_timerEx         0      0     24
     Gps_SendTheMessage              2      0     76
       -> AF_DataRequest             0      0    128
     handle                          3      0      9


   Segment part sizes:

     Function/Label                      Bytes
     --------------                      -----
     _A_P1                                  1
     Recdata                              300
     Recdata_GPGGA                        100
     Recdata_GPGGA_start                    2
     UTC                                    6
     JingDu                                10
     WeiDu                                  9
     GaoDu                                  5
     WeiXing                                2
     JiBie                                  1
     RXTXflag                               1
     temp                                   1
     datanumber                             2
     stringlen                              2
     check                                  2
     position                               2
     flag                                   1
     Gps_ClusterList                        2
     Gps_SimpleDesc                        12
     TempDATA                               1
     Gps_epDesc                             6
     Gps_TaskID                             1
     Gps_TransID                            1
     Gps_NwkState                           1
     Gps_Uart_TaskID                        1
     Gps_Uart_TransID                       1
     Gps_Init                             107
     ?Subroutine0                           5
     Gps_ProcessEvent                     124
     ?Subroutine4                          11
     Gps_SendTheMessage                   369
     ?Subroutine9                           6
     ?Subroutine5                          12
     ?Subroutine3                          11
     handle                               542
     ?Subroutine8                          13
     ?Subroutine7                          14
     ?Subroutine6                           9
     ?Subroutine2                          17
     ?Subroutine1                          18
     GpsMeasurement_Init                   36
     GpsMeasurement_ProcessEvent           54
     ?<Initializer for Recdata>           300
     ?<Initializer for Recdata_GPGGA>     100
     ?<Initializer for UTC>                 6
     ?<Initializer for JingDu>             10
     ?<Initializer for WeiDu>               9
     ?<Initializer for GaoDu>               5
     ?<Initializer for WeiXing>             2
     ?<Initializer for JiBie>               1
     ?<Initializer for RXTXflag>            1
     ?<Initializer for position>            2
     ?<Initializer for flag>                1
     ??Gps_Init?relay                       6
     ??Gps_ProcessEvent?relay               6
     ??Gps_SendTheMessage?relay             6
     ??handle?relay                         6
     ??GpsMeasurement_Init?relay            6
     ??GpsMeasurement_ProcessEvent?relay    6
     ?<Constant "Gps:">                    33

 
 1 348 bytes in segment BANKED_CODE
    36 bytes in segment BANK_RELAYS
     1 byte  in segment SFR_AN
   437 bytes in segment XDATA_I
   437 bytes in segment XDATA_ID
    47 bytes in segment XDATA_ROM_C
    21 bytes in segment XDATA_Z
 
 1 821 bytes of CODE  memory
    47 bytes of CONST memory
     0 bytes of DATA  memory (+ 1 byte shared)
   458 bytes of XDATA memory

Errors: none
Warnings: none
